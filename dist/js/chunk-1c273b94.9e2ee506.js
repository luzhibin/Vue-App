(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c273b94"],{"301b":function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return u}));var a=c("7a23"),n=c("1fba"),o=c("e5f6"),i=c("450f"),d=c("fa8a");const[l,s]=Object(n["a"])("action-bar"),r=Symbol(l),b={placeholder:Boolean,safeAreaInsetBottom:o["g"]};var u=Object(a["defineComponent"])({name:l,props:b,setup(e,{slots:t}){const c=Object(a["ref"])(),n=Object(d["a"])(c,s),{linkChildren:o}=Object(i["useChildren"])(r);o();const l=()=>{var n;return Object(a["createVNode"])("div",{ref:c,class:[s(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(n=t.default)?void 0:n.call(t)])};return()=>e.placeholder?n(l):l()}})},3063:function(e,t,c){"use strict";c("6170")},"498f":function(e,t,c){},"4a22":function(e,t,c){},"57b9":function(e,t,c){},"5e72":function(e,t,c){"use strict";c("aabd")},6170:function(e,t,c){},"69e2":function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var a=c("23f9"),n=c("301b");const o=Object(a["a"])(n["b"])},"7d86":function(e,t,c){"use strict";c("57b9")},"81c0":function(e,t,c){},aabd:function(e,t,c){},bb50:function(e,t,c){"use strict";c.r(t);var a=c("69e2"),n=(c("68ef"),c("d4ef"),c("c75a")),o=(c("cb51"),c("3743"),c("e3b3"),c("bc1b"),c("1703"),c("23f9")),i=c("7a23"),d=c("1fba"),l=c("fa7c"),s=c("e5f6"),r=c("301b"),b=c("450f"),u=c("4e5e"),m=c("9a1c"),O=c("8be7");const[j,f]=Object(d["a"])("action-bar-icon"),v=Object(l["a"])({},u["b"],{dot:Boolean,text:String,icon:String,color:String,badge:s["f"],iconClass:s["h"],badgeProps:Object,iconPrefix:String});var p=Object(i["defineComponent"])({name:j,props:v,setup(e,{slots:t}){const c=Object(u["c"])();Object(b["useParent"])(r["a"]);const a=()=>{const{dot:c,badge:a,icon:n,color:o,iconClass:d,badgeProps:l,iconPrefix:s}=e;return t.icon?Object(i["createVNode"])(O["a"],Object(i["mergeProps"])({dot:c,class:f("icon"),content:a},l),{default:t.icon}):Object(i["createVNode"])(m["a"],{tag:"div",dot:c,name:n,badge:a,color:o,class:[f("icon"),d],badgeProps:l,classPrefix:s},null)};return()=>Object(i["createVNode"])("div",{role:"button",class:f(),tabindex:0,onClick:c},[a(),t.default?t.default():e.text])}});const g=Object(o["a"])(p);c("498f");var h=c("aad9"),k=(c("72f1"),c("3e47")),C=(c("e7d9"),c("0418"));const x=e=>(Object(i["pushScopeId"])("data-v-657483fd"),e=e(),Object(i["popScopeId"])(),e),V={class:"storeDetails"},N={class:"content"},I=x(()=>Object(i["createElementVNode"])("div",{class:"img"},null,-1)),B={class:"foodSort"},y={class:"name"},A=["src"],E={class:"sort"};function S(e,t,c,o,d,l){const s=C["a"],r=Object(i["resolveComponent"])("FoodList"),b=k["a"],u=h["a"],m=g,O=n["a"],j=a["a"];return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",V,[Object(i["createVNode"])(s,{title:"店铺"}),Object(i["createElementVNode"])("div",N,[I,Object(i["createElementVNode"])("div",B,[Object(i["createElementVNode"])("div",y,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.title)+" ",1),Object(i["createElementVNode"])("img",{src:e.img,class:"store-img"},null,8,A)]),Object(i["createElementVNode"])("div",E,[Object(i["createVNode"])(u,{color:"#ffc400"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.storeData,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(b,{title:e.name},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r,{index:t,foodData:e.data},null,8,["index","foodData"])]),_:2},1032,["title"]))),256))]),_:1})])])]),Object(i["createVNode"])(j,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(m,{icon:"chat-o",text:"客服"}),Object(i["createVNode"])(m,{icon:"cart-o",text:"购物车",badge:o.store.state.cartList.length,onClick:o.goCart},null,8,["badge","onClick"]),Object(i["createVNode"])(O,{type:"warning",text:"加入购物车",onClick:o.handleAddCart},null,8,["onClick"]),Object(i["createVNode"])(O,{type:"danger",text:"立即购买",onClick:o.goBuy},null,8,["onClick"])]),_:1})])}c("14d9");var D=c("5aa0");const[P,w]=Object(d["a"])("sidebar"),_=Symbol(P),L={modelValue:Object(s["c"])(0)};var F=Object(i["defineComponent"])({name:P,props:L,emits:["change","update:modelValue"],setup(e,{emit:t,slots:c}){const{linkChildren:a}=Object(b["useChildren"])(_),n=()=>+e.modelValue,o=e=>{e!==n()&&(t("update:modelValue",e),t("change",e))};return a({getActive:n,setActive:o}),()=>{var e;return Object(i["createVNode"])("div",{role:"tablist",class:w()},[null==(e=c.default)?void 0:e.call(c)])}}});const J=Object(o["a"])(F);const[R,T]=Object(d["a"])("sidebar-item"),U=Object(l["a"])({},u["b"],{dot:Boolean,title:String,badge:s["f"],disabled:Boolean,badgeProps:Object});var z=Object(i["defineComponent"])({name:R,props:U,emits:["click"],setup(e,{emit:t,slots:c}){const a=Object(u["c"])(),{parent:n,index:o}=Object(b["useParent"])(_);if(!n)return void 0;const d=()=>{e.disabled||(t("click",o.value),n.setActive(o.value),a())};return()=>{const{dot:t,badge:a,title:l,disabled:s}=e,r=o.value===n.getActive();return Object(i["createVNode"])("div",{role:"tab",class:T({select:r,disabled:s}),tabindex:s?void 0:0,"aria-selected":r,onClick:d},[Object(i["createVNode"])(O["a"],Object(i["mergeProps"])({dot:t,class:T("text"),content:a},e.badgeProps),{default:()=>[c.title?c.title():l]})])}}});const G=Object(o["a"])(z);const[H,M]=Object(d["a"])("tree-select"),q={max:Object(s["c"])(1/0),items:Object(s["a"])(),height:Object(s["c"])(300),selectedIcon:Object(s["e"])("success"),mainActiveIndex:Object(s["c"])(0),activeId:{type:[Number,String,Array],default:0}};var K=Object(i["defineComponent"])({name:H,props:q,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:c}){const a=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,n=c=>{const n=()=>{if(c.disabled)return;let a;if(Array.isArray(e.activeId)){a=e.activeId.slice();const t=a.indexOf(c.id);-1!==t?a.splice(t,1):a.length<e.max&&a.push(c.id)}else a=c.id;t("update:activeId",a),t("click-item",c)};return Object(i["createVNode"])("div",{key:c.id,class:["van-ellipsis",M("item",{active:a(c.id),disabled:c.disabled})],onClick:n},[c.text,a(c.id)&&Object(i["createVNode"])(m["a"],{name:e.selectedIcon,class:M("selected")},null)])},o=e=>{t("update:mainActiveIndex",e)},d=e=>t("click-nav",e),l=()=>{const t=e.items.map(e=>Object(i["createVNode"])(G,{dot:e.dot,title:e.text,badge:e.badge,class:[M("nav-item"),e.className],disabled:e.disabled,onClick:d},null));return Object(i["createVNode"])(J,{class:M("nav"),modelValue:e.mainActiveIndex,onChange:o},{default:()=>[t]})},s=()=>{if(c.content)return c.content();const t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(n):void 0};return()=>Object(i["createVNode"])("div",{class:M(),style:{height:Object(D["b"])(e.height)}},[l(),Object(i["createVNode"])("div",{class:M("content")},[s()])])}});const Q=Object(o["a"])(K);c("d8ac"),c("81c0"),c("4a22");var W=c("af40");const X={key:0,class:"food-list"},Y={class:"item-bg"},Z={key:1};function $(e,t,c,a,n,o){const d=W["a"],l=Q;return 0===c.index?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",X,[Object(i["createVNode"])(l,{"main-active-index":e.activeIndex,"onUpdate:main-active-index":t[0]||(t[0]=t=>e.activeIndex=t),height:"88vw",items:e.items,onClickNav:a.navClick},{content:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.subItem,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Y,[Object(i["createVNode"])(d,{item:e,handleAdd:a.handleAdd,handleChange:a.handleChange},null,8,["item","handleAdd","handleChange"])]))),256))]),_:1},8,["main-active-index","items","onClickNav"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Z,Object(i["toDisplayString"])(c.foodData.content),1))}var ee=c("e3d7");c("5bc8"),c("89a0");const te={class:"content-item"},ce={class:"left"},ae=["src"],ne={class:"text"},oe={class:"title"},ie={class:"price"};function de(e,t,c,a,n,o){const d=m["a"],l=ee["a"];return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",te,[Object(i["createElementVNode"])("div",ce,[Object(i["createElementVNode"])("img",{src:c.item.pic},null,8,ae),Object(i["createElementVNode"])("div",ne,[Object(i["createElementVNode"])("div",oe,Object(i["toDisplayString"])(c.item.title),1),c.item.add?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0,name:"add-o",onClick:t[0]||(t[0]=e=>c.handleAdd(c.item.id))})):(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1,modelValue:c.item.num,"onUpdate:modelValue":t[1]||(t[1]=e=>c.item.num=e),name:c.item.id,onChange:c.handleChange},null,8,["modelValue","name","onChange"]))])]),Object(i["createElementVNode"])("div",ie,"￥"+Object(i["toDisplayString"])(c.item.price),1)])}var le={props:["item","handleAdd","handleChange"]},se=(c("3063"),c("6b0d")),re=c.n(se);const be=re()(le,[["render",de],["__scopeId","data-v-d495a71a"]]);var ue=be,me={props:["index","foodData"],components:{FoodListItem:ue,ListItem:W["a"]},setup(e){let t=Object(i["reactive"])({activeIndex:0,items:[],subItem:[]});const c=()=>{var c,a;let n=[];null===(c=e.foodData)||void 0===c||null===(a=c.items)||void 0===a||a.forEach((e,c)=>{n.push({text:e.text}),t.activeIndex===c&&(t.subItem=e.children)}),t.items=n};c();const a=e=>{t.activeIndex=e,c()},n=e=>{t.subItem.forEach((t,c)=>{t.id===e&&(t.add=!1)})},o=(e,c)=>{t.subItem.forEach(t=>{t.id===c.name&&(t.num=e)}),console.log(t.subItem)};return{...Object(i["toRefs"])(t),navClick:a,handleAdd:n,handleChange:o}}};c("5e72");const Oe=re()(me,[["render",$],["__scopeId","data-v-4b46cab7"]]);var je=Oe,fe=c("5502"),ve=c("6605"),pe=c("6c43"),ge=c("4ec3"),he={components:{Header:C["a"],FoodList:je},setup(){let e=Object(fe["b"])(),t=Object(ve["d"])(),c=Object(i["reactive"])({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[]});const a=()=>{Object(ge["b"])().then(e=>{c.storeData=e})};Object(i["onMounted"])(()=>{a()});const n=t=>{const a=e.state.cartList||[];c.storeData.forEach(e=>{var t;null===(t=e.data.items)||void 0===t||t.forEach(e=>{e.children.forEach(e=>{e.num>0&&a.push(e)})})}),0!==a.length?(e.commit("ADDCART",a),"buy"===t&&o()):Object(pe["a"])("请选择商品")},o=()=>{t.push("/cart")},d=()=>{n("buy")};return{handleAddCart:n,...Object(i["toRefs"])(c),store:e,goCart:o,goBuy:d}}};c("7d86");const ke=re()(he,[["render",S],["__scopeId","data-v-657483fd"]]);t["default"]=ke},c75a:function(e,t,c){"use strict";c.d(t,"a",(function(){return f}));var a=c("23f9"),n=c("7a23"),o=c("1fba"),i=c("fa7c"),d=c("301b"),l=c("450f"),s=c("efd9"),r=c("4e5e"),b=c("2e1b");const[u,m]=Object(o["a"])("action-bar-button"),O=Object(i["a"])({},r["b"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var j=Object(n["defineComponent"])({name:u,props:O,setup(e,{slots:t}){const c=Object(r["c"])(),{parent:a,index:o}=Object(l["useParent"])(d["a"]),i=Object(n["computed"])(()=>{if(a){const e=a.children[o.value-1];return!(e&&"isButton"in e)}}),u=Object(n["computed"])(()=>{if(a){const e=a.children[o.value+1];return!(e&&"isButton"in e)}});return Object(s["a"])({isButton:!0}),()=>{const{type:a,icon:o,text:d,color:l,loading:s,disabled:r}=e;return Object(n["createVNode"])(b["a"],{class:m([a,{last:u.value,first:i.value}]),size:"large",type:a,icon:o,color:l,loading:s,disabled:r,onClick:c},{default:()=>[t.default?t.default():d]})}}});const f=Object(a["a"])(j)},d8ac:function(e,t,c){}}]);
//# sourceMappingURL=chunk-1c273b94.9e2ee506.js.map